{"componentChunkName":"component---src-templates-docs-tsx","path":"/gl/developers/docs/data-structures-and-encoding/web3-secret-storage/","result":{"data":{"siteData":{"siteMetadata":{"editContentUrl":"https://github.com/ethereum/ethereum-org-website/tree/dev/"}},"pageData":{"fields":{"slug":"/en/developers/docs/data-structures-and-encoding/web3-secret-storage/"},"frontmatter":{"title":"Web3 secret storage definition","description":"Formal definition for web3 secret storage","lang":"en","incomplete":null,"sidebarDepth":2,"isOutdated":null,"hideEditButton":null},"body":"var _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"title\": \"Web3 secret storage definition\",\n  \"description\": \"Formal definition for web3 secret storage\",\n  \"lang\": \"en\",\n  \"sidebarDepth\": 2\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"To make your app work on Ethereum, you can use the web3 object provided by the web3.js library. Under the hood it communicates to a local node through RPC calls. \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/ethereum/web3.js/\"\n  }, \"web3\"), \" works with any Ethereum node which exposes an RPC layer.\"), mdx(\"p\", null, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"web3\"), \" contains the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"eth\"), \" object - web3.eth.\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"var fs = require(\\\"fs\\\")\\nvar recognizer = require(\\\"ethereum-keyfile-recognizer\\\")\\n\\nfs.readFile(\\\"keyfile.json\\\", (err, data) => {\\n  var json = JSON.parse(data)\\n  var result = recognizer(json)\\n})\\n\\n/** result\\n *               [ 'web3', 3 ]   web3 (v3) keyfile\\n *  [ 'ethersale', undefined ]   Ethersale keyfile\\n *                        null     invalid keyfile\\n */\\n\")), mdx(\"p\", null, \"This documents \", mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"version 3\"), \" of the Web3 Secret Storage Definition.\"), mdx(\"h2\", {\n    \"id\": \"definition\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#definition\",\n    \"aria-label\": \"definition permalink\",\n    \"className\": \"header-anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Definition\"), mdx(\"p\", null, \"The actual encoding and decoding of the file remains largely unchanged from version 1, except that the crypto algorithm is no longer fixed to AES-128-CBC (AES-128-CTR is now the minimal requirement). Most of the meanings/algorithm are similar to version 1, except \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"mac\"), \", which is given as the SHA3 (keccak-256) of the concatenations of the second-leftmost 16 bytes of the derived key together with the full \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"ciphertext\"), \".\"), mdx(\"p\", null, \"Secret key files are stored directly in \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"~/.web3/keystore\"), \" (for Unix-like systems) and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"~/AppData/Web3/keystore\"), \" (for Windows). They may be named anything, but a good convention is \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"<uuid>.json\"), \", where \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"<uuid>\"), \" is the 128-bit UUID given to the secret key (a privacy-preserving proxy for the secret key's address).\"), mdx(\"p\", null, \"All such files have an associated password. To derive a given \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \".json\"), \" file's secret key, first derive the file's encryption key; this is done through taking the file's password and passing it through a key derivation function as described by the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"kdf\"), \" key. KDF-dependent static and dynamic parameters to the KDF function are described in \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"kdfparams\"), \" key.\"), mdx(\"p\", null, \"PBKDF2 must be supported by all minimally-compliant implementations, denoted though:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"kdf\"), \": \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"pbkdf2\"))), mdx(\"p\", null, \"For PBKDF2, the kdfparams include:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"prf\"), \": Must be \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"hmac-sha256\"), \" (may be extended in the future);\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"c\"), \": number of iterations;\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"salt\"), \": salt passed to PBKDF;\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"dklen\"), \": length for the derived key. Must be >= 32.\")), mdx(\"p\", null, \"Once the file's key has been derived, it should be verified through the derivation of the MAC. The MAC should be calculated as the SHA3 (keccak-256) hash of the byte array formed as the concatenations of the second-leftmost 16 bytes of the derived key with the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"ciphertext\"), \" key's contents, i.e.:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-js\"\n  }, \"KECCAK(DK[16..31] ++ <ciphertext>)\\n\")), mdx(\"p\", null, \"(where \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"++\"), \" is the concatenation operator)\"), mdx(\"p\", null, \"This value should be compared to the contents of the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"mac\"), \" key; if they are different, an alternative password should be requested (or the operation cancelled).\"), mdx(\"p\", null, \"After the file's key has been verified, the cipher text (the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"ciphertext\"), \" key in the file) may be decrypted using the symmetric encryption algorithm specified by the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"cipher\"), \" key and parameterised through the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"cipherparams\"), \" key. If the derived key size and the algorithm's key size are mismatched, the zero padded, rightmost bytes of the derived key should be used as the key to the algorithm.\"), mdx(\"p\", null, \"All minimally-compliant implementations must support the AES-128-CTR algorithm, denoted through:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"cipher: aes-128-ctr\"))), mdx(\"p\", null, \"This cipher takes the following parameters, given as keys to the cipherparams key:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"iv\"), \": 128-bit initialisation vector for the cipher.\")), mdx(\"p\", null, \"The key for the cipher is the leftmost 16 bytes of the derived key, i.e. \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"DK[0..15]\")), mdx(\"p\", null, \"The creation/encryption of a secret key should be essentially the reverse of these instructions. Make sure the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"uuid\"), \", \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"salt\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"iv\"), \" are actually random.\"), mdx(\"p\", null, \"In addition to the \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"version\"), \" field, which should act as a \\\"hard\\\" identifier of version, implementations may also use \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"minorversion\"), \" to track smaller, non-breaking changes to the format.\"), mdx(\"h2\", {\n    \"id\": \"test-vectors\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#test-vectors\",\n    \"aria-label\": \"test vectors permalink\",\n    \"className\": \"header-anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Test Vectors\"), mdx(\"p\", null, \"Details:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"Address\"), \": \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"008aeeda4d805471df9b2a5b0f38a0c3bcba786b\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"ICAP\"), \": \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"XE542A5PZHH8PYIZUBEJEO0MFWRAPPIL67\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"UUID\"), \": \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"3198bc9c-6672-5ab3-d9954942343ae5b6\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"Password\"), \": \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"testpassword\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"Secret\"), \": \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"7a28b5ba57c53603b0b07b56bba752f7784bf506fa95edc395f5cf6c7514fe9d\"))), mdx(\"h3\", {\n    \"id\": \"PBKDF2-SHA-256\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#PBKDF2-SHA-256\",\n    \"aria-label\": \"PBKDF2 SHA 256 permalink\",\n    \"className\": \"header-anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"PBKDF2-SHA-256\"), mdx(\"p\", null, \"Test vector using \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"AES-128-CTR\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"PBKDF2-SHA-256\"), \":\"), mdx(\"p\", null, \"File contents of \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"~/.web3/keystore/3198bc9c-6672-5ab3-d9954942343ae5b6.json\"), \":\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-json\"\n  }, \"{\\n  \\\"crypto\\\": {\\n    \\\"cipher\\\": \\\"aes-128-ctr\\\",\\n    \\\"cipherparams\\\": {\\n      \\\"iv\\\": \\\"6087dab2f9fdbbfaddc31a909735c1e6\\\"\\n    },\\n    \\\"ciphertext\\\": \\\"5318b4d5bcd28de64ee5559e671353e16f075ecae9f99c7a79a38af5f869aa46\\\",\\n    \\\"kdf\\\": \\\"pbkdf2\\\",\\n    \\\"kdfparams\\\": {\\n      \\\"c\\\": 262144,\\n      \\\"dklen\\\": 32,\\n      \\\"prf\\\": \\\"hmac-sha256\\\",\\n      \\\"salt\\\": \\\"ae3cd4e7013836a3df6bd7241b12db061dbe2c6785853cce422d148a624ce0bd\\\"\\n    },\\n    \\\"mac\\\": \\\"517ead924a9d0dc3124507e3393d175ce3ff7c1e96529c6c555ce9e51205e9b2\\\"\\n  },\\n  \\\"id\\\": \\\"3198bc9c-6672-5ab3-d995-4942343ae5b6\\\",\\n  \\\"version\\\": 3\\n}\\n\")), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Intermediates\"), \":\"), mdx(\"p\", null, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Derived key\"), \": \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"f06d69cdc7da0faffb1008270bca38f5e31891a3a773950e6d0fea48a7188551\"), \"\\n\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"MAC Body\"), \": \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"e31891a3a773950e6d0fea48a71885515318b4d5bcd28de64ee5559e671353e16f075ecae9f99c7a79a38af5f869aa46\"), \"\\n\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"MAC\"), \": \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"517ead924a9d0dc3124507e3393d175ce3ff7c1e96529c6c555ce9e51205e9b2\"), \"\\n\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Cipher key\"), \": \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"f06d69cdc7da0faffb1008270bca38f5\")), mdx(\"h3\", {\n    \"id\": \"scrypt\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h3\",\n    \"href\": \"#scrypt\",\n    \"aria-label\": \"scrypt permalink\",\n    \"className\": \"header-anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Scrypt\"), mdx(\"p\", null, \"Test vector using AES-128-CTR and Scrypt:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-json\"\n  }, \"{\\n  \\\"crypto\\\": {\\n    \\\"cipher\\\": \\\"aes-128-ctr\\\",\\n    \\\"cipherparams\\\": {\\n      \\\"iv\\\": \\\"83dbcc02d8ccb40e466191a123791e0e\\\"\\n    },\\n    \\\"ciphertext\\\": \\\"d172bf743a674da9cdad04534d56926ef8358534d458fffccd4e6ad2fbde479c\\\",\\n    \\\"kdf\\\": \\\"scrypt\\\",\\n    \\\"kdfparams\\\": {\\n      \\\"dklen\\\": 32,\\n      \\\"n\\\": 262144,\\n      \\\"p\\\": 8,\\n      \\\"r\\\": 1,\\n      \\\"salt\\\": \\\"ab0c7876052600dd703518d6fc3fe8984592145b591fc8fb5c6d43190334ba19\\\"\\n    },\\n    \\\"mac\\\": \\\"2103ac29920d71da29f15d75b4a16dbe95cfd7ff8faea1056c33131d846e3097\\\"\\n  },\\n  \\\"id\\\": \\\"3198bc9c-6672-5ab3-d995-4942343ae5b6\\\",\\n  \\\"version\\\": 3\\n}\\n\")), mdx(\"p\", null, mdx(\"strong\", {\n    parentName: \"p\"\n  }, \"Intermediates\"), \":\"), mdx(\"p\", null, mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Derived key\"), \": \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"fac192ceb5fd772906bea3e118a69e8bbb5cc24229e20d8766fd298291bba6bd\"), \"\\n\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"MAC Body\"), \": \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"bb5cc24229e20d8766fd298291bba6bdd172bf743a674da9cdad04534d56926ef8358534d458fffccd4e6ad2fbde479c\"), \"\\n\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"MAC\"), \": \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"2103ac29920d71da29f15d75b4a16dbe95cfd7ff8faea1056c33131d846e3097\"), \"\\n\", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"Cipher key\"), \": \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"fac192ceb5fd772906bea3e118a69e8b\")), mdx(\"h2\", {\n    \"id\": \"alterations-from-v2\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#alterations-from-v2\",\n    \"aria-label\": \"alterations from v2 permalink\",\n    \"className\": \"header-anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Alterations from Version 1\"), mdx(\"p\", null, \"This version fixes several inconsistencies with the version 1 published \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/ethereum/homestead-guide/blob/master/old-docs-for-reference/go-ethereum-wiki.rst/Passphrase-protected-key-store-spec.rst\"\n  }, \"here\"), \". In brief these are:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Capitalisation is unjustified and inconsistent (scrypt lowercase, Kdf mixed-case, MAC uppercase).\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"Address unnecessary and compromises privacy.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"Salt\"), \" is intrinsically a parameter of the key derivation function and deserves to be associated with it, not with the crypto in general.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"em\", {\n    parentName: \"li\"\n  }, \"SaltLen\"), \" unnecessary (just derive it from Salt).\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, \"The key derivation function is given, yet the crypto algorithm is hard specified.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"Version\"), \" is intrinsically numeric yet is a string (structured versioning would be possible with a string, but can be considered out of scope for a rarely changing configuration file format).\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"KDF\"), \" and \", mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"cipher\"), \" are notionally sibling concepts yet are organised differently.\"), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"inlineCode\", {\n    parentName: \"li\"\n  }, \"MAC\"), \" is calculated through a whitespace agnostic piece of data(!)\")), mdx(\"p\", null, \"Changes have been made to the format to give the following file, functionally equivalent to the example given on the previously linked page:\"), mdx(\"pre\", null, mdx(\"code\", {\n    parentName: \"pre\",\n    \"className\": \"language-json\"\n  }, \"{\\n  \\\"crypto\\\": {\\n    \\\"cipher\\\": \\\"aes-128-cbc\\\",\\n    \\\"ciphertext\\\": \\\"07533e172414bfa50e99dba4a0ce603f654ebfa1ff46277c3e0c577fdc87f6bb4e4fe16c5a94ce6ce14cfa069821ef9b\\\",\\n    \\\"cipherparams\\\": {\\n      \\\"iv\\\": \\\"16d67ba0ce5a339ff2f07951253e6ba8\\\"\\n    },\\n    \\\"kdf\\\": \\\"scrypt\\\",\\n    \\\"kdfparams\\\": {\\n      \\\"dklen\\\": 32,\\n      \\\"n\\\": 262144,\\n      \\\"p\\\": 1,\\n      \\\"r\\\": 8,\\n      \\\"salt\\\": \\\"06870e5e6a24e183a5c807bd1c43afd86d573f7db303ff4853d135cd0fd3fe91\\\"\\n    },\\n    \\\"mac\\\": \\\"8ccded24da2e99a11d48cda146f9cc8213eb423e2ea0d8427f41c3be414424dd\\\",\\n    \\\"version\\\": 1\\n  },\\n  \\\"id\\\": \\\"0498f19a-59db-4d54-ac95-33901b4f1870\\\",\\n  \\\"version\\\": 2\\n}\\n\")), mdx(\"h2\", {\n    \"id\": \"alterations-from-v2\",\n    \"style\": {\n      \"position\": \"relative\"\n    }\n  }, mdx(\"a\", {\n    parentName: \"h2\",\n    \"href\": \"#alterations-from-v2\",\n    \"aria-label\": \"alterations from v2 permalink\",\n    \"className\": \"header-anchor before\"\n  }, mdx(\"svg\", {\n    parentName: \"a\",\n    \"aria-hidden\": \"true\",\n    \"focusable\": \"false\",\n    \"height\": \"16\",\n    \"version\": \"1.1\",\n    \"viewBox\": \"0 0 16 16\",\n    \"width\": \"16\"\n  }, mdx(\"path\", {\n    parentName: \"svg\",\n    \"fillRule\": \"evenodd\",\n    \"d\": \"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"\n  }))), \"Alterations from Version 2\"), mdx(\"p\", null, \"Version 2 was an early C++ implementation with a number of bugs. All essentials remain unchanged from it.\"));\n}\n;\nMDXContent.isMDXComponent = true;","tableOfContents":{"items":[{"url":"#definition-definition","title":"Definition {#definition}"},{"url":"#test-vectors-test-vectors","title":"Test Vectors {#test-vectors}","items":[{"url":"#pbkdf2-sha-256-pbkdf2-sha-256","title":"PBKDF2-SHA-256 {#PBKDF2-SHA-256}"},{"url":"#scrypt-scrypt","title":"Scrypt {#scrypt}"}]},{"url":"#alterations-from-version-1-alterations-from-v2","title":"Alterations from Version 1 {#alterations-from-v2}"},{"url":"#alterations-from-version-2-alterations-from-v2","title":"Alterations from Version 2 {#alterations-from-v2}"}]}}},"pageContext":{"language":"gl","slug":"/gl/developers/docs/data-structures-and-encoding/web3-secret-storage/","ignoreTranslationBanner":false,"isLegal":false,"isOutdated":false,"isContentEnglish":true,"relativePath":"src/content/developers/docs/data-structures-and-encoding/web3-secret-storage/index.md","locale":"gl","hrefLang":"gl","originalPath":"/developers/docs/data-structures-and-encoding/web3-secret-storage/","dateFormat":"MM/DD/YYYY"}},"staticQueryHashes":["1239077767","3003422828","3280999885","446219633"],"slicesMap":{}}